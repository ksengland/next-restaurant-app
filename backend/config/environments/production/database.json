const parse = require('pg-connection-string').parse;
const config = parse(process.env.DATABASE_URL);
module.exports = ({ env }) => ({
  connection: {
    client: 'postgres',
    connection: {
      host: "${process.env.DATABASE_HOST || '127.0.0.1'}",
      port: "${process.env.DATABASE_PORT || 27017}",
      database: "${process.env.DATABASE_NAME || 'strapi'}",
      user: "${process.env.DATABASE_USERNAME || ''}",
      password: "${process.env.DATABASE_PASSWORD || ''}",
      ssl: {
        rejectUnauthorized: false
      },
    },
    debug: false,
  },
});
// {
//   "connection": {
//         "client": 'postgres',
//         "connection": {
//         "host": "${process.env.DATABASE_HOST || '127.0.0.1'}",
//         "port": "${process.env.DATABASE_PORT || 27017}",
//         "srv": "${process.env.DATABASE_SRV || false}",
//         "database": "${process.env.DATABASE_NAME || 'strapi'}",
//         "username": "${process.env.DATABASE_USERNAME || ''}",
//         "password": "${process.env.DATABASE_PASSWORD || ''}",
//         "ssl": "${process.env.DATABASE_SSL || false}",
//       },
//       "debug": false,},
//       "options": {
//         "ssl": "${process.env.DATABASE_SSL || false}",
//         "authenticationDatabase": "${process.env.DATABASE_AUTHENTICATION_DATABASE || ''}"
//       }
//     }
//   }
// }
// )